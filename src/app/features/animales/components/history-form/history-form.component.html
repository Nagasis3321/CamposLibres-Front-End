<form [formGroup]="historyForm" (ngSubmit)="onSubmit()" class="space-y-4">
  <div>
    <label for="tipo" class="block text-sm font-medium text-gray-700 mb-1">
      Tipo <span class="text-red-500">*</span>
    </label>
    <select
      id="tipo"
      formControlName="tipo"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
      [class.border-red-500]="tipo?.invalid && tipo?.touched"
    >
      <option *ngFor="let historyType of historyTypes" [value]="historyType">
        {{ historyType }}
      </option>
    </select>
    <div *ngIf="tipo?.invalid && tipo?.touched" class="mt-1 text-sm text-red-600">
      El tipo es obligatorio.
    </div>
  </div>

  <div>
    <label for="titulo" class="block text-sm font-medium text-gray-700 mb-1">
      Título <span class="text-red-500">*</span>
    </label>
    <input
      type="text"
      id="titulo"
      formControlName="titulo"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
      [class.border-red-500]="titulo?.invalid && titulo?.touched"
    />
    <div *ngIf="titulo?.invalid && titulo?.touched" class="mt-1 text-sm text-red-600">
      El título es obligatorio.
    </div>
  </div>

  <div>
    <label for="fecha" class="block text-sm font-medium text-gray-700 mb-1">
      Fecha <span class="text-red-500">*</span>
    </label>
    <input
      type="date"
      id="fecha"
      formControlName="fecha"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
      [class.border-red-500]="fecha?.invalid && fecha?.touched"
    />
    <div *ngIf="fecha?.invalid && fecha?.touched" class="mt-1 text-sm text-red-600">
      La fecha es obligatoria.
    </div>
  </div>

  <div>
    <label for="descripcion" class="block text-sm font-medium text-gray-700 mb-1">Descripción</label>
    <textarea
      id="descripcion"
      formControlName="descripcion"
      rows="3"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
    ></textarea>
  </div>

  <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
    <button
      type="button"
      (click)="onCancel()"
      class="btn-secondary"
    >
      Cancelar
    </button>
    <button
      type="submit"
      [disabled]="historyForm.invalid"
      class="btn-primary disabled:opacity-50 disabled:cursor-not-allowed"
    >
      Crear
    </button>
  </div>
</form>

