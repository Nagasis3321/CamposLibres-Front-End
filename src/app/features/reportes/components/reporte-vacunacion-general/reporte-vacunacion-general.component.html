<div class="space-y-6">
  <div class="card">
    <h3 class="text-xl font-semibold mb-4">Detalle Vacunaci칩n General</h3>
    
    <form [formGroup]="form" (ngSubmit)="generarReporte()" class="space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Campa침a</label>
        <select formControlName="campanaId" class="w-full border border-gray-300 rounded-md p-2">
          <option value="">Seleccione una campa침a</option>
          <option *ngFor="let campana of campanas" [value]="campana.id">
            {{ campana.nombre }} - {{ campana.fecha | date:'short' }}
          </option>
        </select>
      </div>

      <button type="submit" [disabled]="loading || form.invalid" class="btn-primary">
        {{ loading ? 'Generando...' : 'Generar Reporte' }}
      </button>
    </form>
  </div>

  <div *ngIf="reporteData" class="space-y-6">
    <div class="flex justify-end gap-2">
      <button (click)="exportarCompletoPDF()" class="btn-secondary">
        游늯 Exportar PDF Completo
      </button>
      <button (click)="exportarCompletoExcel()" class="btn-secondary">
        游늵 Exportar Excel Completo
      </button>
    </div>

    <!-- Datos por Due침o -->
    <div *ngFor="let item of reporteData.datosPorDueno" class="space-y-4">
      <div class="card">
        <h4 class="text-lg font-semibold mb-4">Due침o: {{ item.dueno.nombre }}</h4>
        
        <app-datos-por-tipo 
          [datosPorTipo]="item.datosPorTipo"
          [titulo]="'Datos por Tipo - ' + item.dueno.nombre"
          [mostrarBotones]="true">
        </app-datos-por-tipo>
      </div>

      <div class="card">
        <app-listado-animales 
          [animales]="item.listados"
          [titulo]="'Listado de Animales - ' + item.dueno.nombre"
          [mostrarBotones]="true">
        </app-listado-animales>
      </div>
    </div>
  </div>
</div>

