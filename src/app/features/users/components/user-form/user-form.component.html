<form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="space-y-4">
  <div>
    <label for="nombre" class="block text-sm font-medium text-gray-700 mb-1">
      Nombre <span class="text-danger">*</span>
    </label>
    <input
      type="text"
      id="nombre"
      formControlName="nombre"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
      [class.border-danger]="nombre?.invalid && nombre?.touched"
    />
    <div *ngIf="nombre?.invalid && nombre?.touched" class="mt-1 text-sm text-danger">
      <p *ngIf="nombre?.errors?.['required']">El nombre es obligatorio.</p>
      <p *ngIf="nombre?.errors?.['minlength']">El nombre debe tener al menos 2 caracteres.</p>
    </div>
  </div>

  <div>
    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
      Email <span class="text-danger">*</span>
    </label>
    <input
      type="email"
      id="email"
      formControlName="email"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
      [class.border-danger]="email?.invalid && email?.touched"
    />
    <div *ngIf="email?.invalid && email?.touched" class="mt-1 text-sm text-danger">
      <p *ngIf="email?.errors?.['required']">El email es obligatorio.</p>
      <p *ngIf="email?.errors?.['email']">El email no es válido.</p>
    </div>
  </div>

  <div>
    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">
      Contraseña <span class="text-danger" *ngIf="mode === 'create'">*</span>
      <span class="text-gray-500 text-xs" *ngIf="mode === 'edit'">(Dejar vacío para mantener la actual)</span>
    </label>
    <input
      type="password"
      id="password"
      formControlName="password"
      class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"
      [class.border-danger]="password?.invalid && password?.touched"
    />
    <div *ngIf="password?.invalid && password?.touched" class="mt-1 text-sm text-danger">
      <p *ngIf="password?.errors?.['required']">La contraseña es obligatoria.</p>
      <p *ngIf="password?.errors?.['minlength']">La contraseña debe tener al menos 8 caracteres.</p>
    </div>
  </div>

  <div class="flex justify-end gap-3 pt-4 border-t border-gray-200">
    <button
      type="button"
      (click)="onCancel()"
      class="btn-secondary"
    >
      Cancelar
    </button>
    <button
      type="submit"
      [disabled]="userForm.invalid"
      class="btn-primary disabled:opacity-50 disabled:cursor-not-allowed"
    >
      {{ mode === 'create' ? 'Crear' : 'Actualizar' }}
    </button>
  </div>
</form>

